<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/nidle/blog/rss.xml" title="Nidle Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/nidle/blog/atom.xml" title="Nidle Blog Atom Feed"><title data-react-helmet="true">MonoRepo 项目开发 | Nidle</title><meta data-react-helmet="true" property="og:url" content="https://yanuoda.github.io//nidle/docs/developer/develop"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="MonoRepo 项目开发 | Nidle"><meta data-react-helmet="true" name="description" content="以下是常见的 MonoRepo 仓库目录结构："><meta data-react-helmet="true" property="og:description" content="以下是常见的 MonoRepo 仓库目录结构："><link data-react-helmet="true" rel="shortcut icon" href="/nidle/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://yanuoda.github.io//nidle/docs/developer/develop"><link data-react-helmet="true" rel="alternate" href="https://yanuoda.github.io//nidle/docs/developer/develop" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://yanuoda.github.io//nidle/docs/developer/develop" hreflang="x-default"><link rel="stylesheet" href="/nidle/assets/css/styles.0177f436.css">
<link rel="preload" href="/nidle/assets/js/runtime~main.2d3e8809.js" as="script">
<link rel="preload" href="/nidle/assets/js/main.cec816ab.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_GxWn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/nidle/"><img src="/nidle/img/logo.png" alt="Nidle" class="themedImage_hT0q themedImage--light_t77m navbar__logo"><img src="/nidle/img/logo.png" alt="Nidle" class="themedImage_hT0q themedImage--dark_lYkc navbar__logo"><b class="navbar__title">Nidle</b></a><a class="navbar__item navbar__link" href="/nidle/docs/document/intro">文档</a><a class="navbar__item navbar__link navbar__link--active" href="/nidle/docs/developer/design">开发</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yanuoda/nidle" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_gzkf"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_o8XW react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_hhh4">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_hhh4">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_wTKs"><button class="clean-btn backToTopButton_TxAF" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_dA-J"><div class="sidebar_AypA"><nav class="menu thin-scrollbar menu_y54V menuWithAnnouncementBar_U-Wh"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/design">架构设计</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/config">配置</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/plugin">插件开发</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/table">数据库</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/document">文档编写</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/nidle/docs/developer/develop">MonoRepo 项目开发</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/format">代码规范及语法检查</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/meno">备忘录</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/plan">任务计划</a></li><li class="menu__list-item"><a class="menu__link" href="/nidle/docs/developer/upgrade">应用升级</a></li></ul></nav></div></aside><main class="docMainContainer_Xp3-"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_pvyS"><div class="docItemContainer_TM23"><article><div class="tocCollapsible_oVL4 tocMobile_H80b"><button type="button" class="clean-btn tocCollapsibleButton_x6ep">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_uqNE">MonoRepo 项目开发</h1></header><p>以下是常见的 <code>MonoRepo</code> 仓库目录结构：</p><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">monorepo-root/    </span><span class="token comment" style="color:#999988;font-style:italic"># monorepo 项目根目录</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  package.json    </span><span class="token comment" style="color:#999988;font-style:italic"># 公共依赖</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  packages/       </span><span class="token comment" style="color:#999988;font-style:italic"># 所有子项目/子包的存放目录</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pkgA/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      package.json</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pkgB/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      package.json</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><p>在开始之前，先明确一些概念描述，保证大家理解一致：</p><ul><li><strong>公共依赖：</strong>指的是需要添加在项目根目录的 <code>package.json</code> 文件内的依赖，一般包括打包构建、代码规范、提交规范相关的依赖...</li><li><strong>子包/子项目：</strong>指的是在 <code>packages</code> 目录（或其他指定在根目录 <code>package.json</code> 中 <code>workspaces</code> 字段下的目录）下的包（如上面的 <code>pkgA</code> 和 <code>pkgB</code>）</li></ul><p><code>MonoRepo</code> 项目的管理主要包括依赖管理和发布管理两部分内容。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="依赖管理"></a>依赖管理<a class="hash-link" href="#依赖管理" title="Direct link to heading">#</a></h3><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>为了保证依赖安装和管理的一致性，我选择使用 <code>Yarn</code> 进行依赖管理。如果觉得 <code>Lerna</code> 的命令更简便可以去阅读其文档，但是最好不要混用，避免出现其他问题。</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="依赖安装"></a>依赖安装<a class="hash-link" href="#依赖安装" title="Direct link to heading">#</a></h4><p>直接在项目根目录运行：</p><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="添加移除依赖"></a>添加/移除依赖<a class="hash-link" href="#添加移除依赖" title="Direct link to heading">#</a></h4><ol><li>添加/移除公共依赖，需要添加 <code>-W</code> 这个 <code>flag</code>，如果需要添加 <code>devDependencies</code>，则加上 <code>-D</code>：</li></ol><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> add/remove </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">dependency</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> -W </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">-D</span><span class="token punctuation" style="color:#393A34">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><ol start="2"><li>添加/移除子包的依赖，需要使用 <code>yarn workspace</code> 命令：</li></ol><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspace </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">sub-package-name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> add/remove </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">dependency</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">-D</span><span class="token punctuation" style="color:#393A34">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="将子包添加为依赖"></a>将子包添加为依赖<a class="hash-link" href="#将子包添加为依赖" title="Direct link to heading">#</a></h4><p>在 <code>MonoRepo</code> 项目里，其中一个子包是其他子包的依赖项是非常常见的情况，像上一节一样，通过 <code>yarn workspace</code> 命令添加，但是需要注意的一点是，依赖包需要明确指定版本号，否则 <code>yarn</code> 会从远程服务器拉取新的包，而不是使用本地 <code>link</code> 的子包：</p><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 假设 pkgA 依赖子包 pkgB，且 pkgB 此时的版本号为 0.1.1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspace pkgA </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> pkgB@0.1.1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="发布管理"></a>发布管理<a class="hash-link" href="#发布管理" title="Direct link to heading">#</a></h3><p>首先我们需要进行发布前的<strong>构建（build）</strong>，然后再执行发布命令：</p><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># first</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 使用 lerna 运行子包的 npm script 是因为 lerna 会根据子包之间的依赖顺序执行命令</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 避免了某个子包的依赖子包还未构建就先进行构建</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lerna run build</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># next</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lerna publish </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">major </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> minor </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> patch </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> premajor </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> preminor </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> prepatch </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> prerelease</span><span class="token punctuation" style="color:#393A34">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><p>通过 <code>lerna</code> 的发布命令可以很方便地帮助我们执行一系列任务：</p><ol><li>为每个子包更新版本号</li><li>生成 <code>changelog</code></li><li>自动提交代码，打上 <code>tag</code> 并推送到远程仓库</li><li>将子包发布到 <code>npm</code></li></ol><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>使用了自动生成 <code>changelog</code> 的功能后，发布时 <code>lerna</code> 不会再询问发布版本号，而是根据 <code>commit</code> 信息中的 <code>type</code> 去决定增加哪一位的版本号。但这不太符合我们的需求，尽管这符合语义化版本规范。所以使用发布命令时，尽量带上需要增加的版本位（即上面命令后面跟着的 <code>[major | minor | patch | premajor | preminor | prepatch | prerelease]</code>）</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="其他常用命令"></a>其他常用命令<a class="hash-link" href="#其他常用命令" title="Direct link to heading">#</a></h3><ol><li>创建新的子包，可以手动创建相应目录，也可以使用 <code>lerna</code> 提供的命令：</li></ol><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ lerna create </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">sub-package-name</span><span class="token operator" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><ol start="2"><li>当我们需要运行某个子包的 <code>script</code> 时，可以：</li></ol><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspace </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">sub-package-name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> run </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><ol start="3"><li>当我们需要运行所有子包的 <code>script</code> 时，可以：</li></ol><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspaces run </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 如果某个子包不存在这个 script，yarn 会报错，这种情况下可以使用 lerna</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lerna run </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><ol start="3"><li>清理所有子包的 <code>node_modules</code>：</li></ol><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ lerna clean</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="代码提交"></a>代码提交<a class="hash-link" href="#代码提交" title="Direct link to heading">#</a></h3><p>前期建议使用交互式代码提交的方式：</p><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> cz</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><p>等到熟悉代码提交规范后，也可以直接使用：</p><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;&lt;type&gt;[(scope)]: &lt;subject&gt;&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><p>提交信息中的 <code>type</code> 字段枚举：</p><div class="codeBlockContainer_Xn-l"><div class="codeBlockContent_cn14 bash"><pre tabindex="0" class="prism-code language-bash codeBlock_hf8G thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Jgjh"><span class="token-line" style="color:#393A34"><span class="token plain">- feat: 新功能</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- fix: bug 修复</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- docs: 文档更新</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- chore: 对构建过程或辅助工具和库（如文档生成）的更改</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- init: 初始提交</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- style: 修改格式（空格，格式化，省略分号等），对代码运行没有影响</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- refactor: 代码重构</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- perf: 性能优化</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- test: 添加测试</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- revert: 撤销某个 commit</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_a5m3 clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_XfLz" id="参考资料"></a>参考资料<a class="hash-link" href="#参考资料" title="Direct link to heading">#</a></h3><ul><li><a href="https://classic.yarnpkg.com/en/docs/workspaces/" target="_blank" rel="noopener noreferrer">yarn workspaces</a></li><li><a href="https://github.com/lerna/lerna" target="_blank" rel="noopener noreferrer">lerna</a></li><li><a href="https://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener noreferrer">Commit message 和 Change log 编写指南</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/yanuoda/nidle/edit/main/packages/nidle-site/docs/developer/develop.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_LiF+" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_t2rc"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/nidle/docs/developer/document"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 文档编写</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/nidle/docs/developer/format"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">代码规范及语法检查 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_bk8p thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#依赖管理" class="table-of-contents__link">依赖管理</a></li><li><a href="#发布管理" class="table-of-contents__link">发布管理</a></li><li><a href="#其他常用命令" class="table-of-contents__link">其他常用命令</a></li><li><a href="#代码提交" class="table-of-contents__link">代码提交</a></li><li><a href="#参考资料" class="table-of-contents__link">参考资料</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/nidle/docs/document/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/nidle/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/yanuoda/nidle" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_gzkf"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/nidle/assets/js/runtime~main.2d3e8809.js"></script>
<script src="/nidle/assets/js/main.cec816ab.js"></script>
</body>
</html>